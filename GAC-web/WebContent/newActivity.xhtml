<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
    
    <h:body>

    	<ui:composition template="/templates/layout.xhtml">
   	 		<ui:define name="title">
				Creation d'une activité
			</ui:define> 
    		<ui:define name="content">
    		<f:event type="preRenderView" listener="#{newActivityMB.init}" />
    			<div class="well">
	    			<h:form id="form">
	                    		<legend>Création d'une activité sur le projet #{newActivityMB.projectName} </legend>
	                   			<div class="form-horizontal">
	
									<div class="alert alert-error">
	                            		<button type="button" class="close" data-dismiss="alert">x</button>
	                					<h:message id="descriptionmessage" for="description" styleClass="errorMessage" />
	               					</div>
			                        <div class="control-group">
			                            <h:outputLabel for="description" value="Description" styleClass="control-label" />
			                            <div class="controls">
			                            	<h:inputText id="description" value="#{newActivityMB.description}" required="true" styleClass="textEntry" />
			                            	
			                            </div>
			                        </div>
			                        
			                        <div class="alert alert-error">
			                            		<button type="button" class="close" data-dismiss="alert">x</button>
			                					<h:message id="heuremessage" for="nombreHeures" errorClass="errorMessage" />
	                					</div>
			                        <div class="control-group">
			                        	
			                            <h:outputLabel for="nombreHeures" value="Nombre d'heures prévues" styleClass="control-label" />
			                            <div class="controls">
			                            	<h:inputText id="nombreHeures" value="#{newActivityMB.charge}" required="true" styleClass="textEntry" />		                            	
			                            </div>
			                        </div>
			                        
			                        <div class="control-group">
			                        	<div class="alert alert-error">
			                            		<button type="button" class="close" data-dismiss="alert">x</button>
			                					<h:message id="employeemessage" for="employee" errorClass="errorMessage" />
	                					</div>
			                            <h:outputLabel for="employee" value="Attribué à: " styleClass="control-label" />
			                            <div class="controls">
			                            	<rich:select id="employee" value="#{newActivityMB.idEmployee}" required="true">
												<f:selectItems value="#{newActivityMB.employeeOptions}" />
	           			 					</rich:select>	                            	
			                            </div>
			                        </div>
			                        
			                        <br/><br/>
									<h:commandButton value="Enregistrer" action="#{newActivityMB.createActivity}" styleClass="btn" />
			                     </div>
					</h:form>
				</div>
    			
    		</ui:define>
    	</ui:composition>
    </h:body>
</html>